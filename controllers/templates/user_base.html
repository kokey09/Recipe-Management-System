<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}HomePage{% endblock %}</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/user_base.css')}}">
    <link rel="icon" href="{{ url_for('static', filename='img-db/recipes.png') }}" type="image/x-icon">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <script src="{{ url_for('static', filename='js/search.js') }}"></script>
    <script src="{{ url_for('static', filename='js/popup.js') }}"></script>


</head>
<body>
<nav>
    <ul>
        <a href="/" id="home-link" title="Home Page"> <img src="{{ url_for('static', filename='recipes-img-table/recipes.png') }}" alt="Your Logo" style="width: 100px; height: 40px;"></a>

        <div class="dropdown">
            <a href="/ingredient_display" id="ingredients-link">Ingredients</a>
            <div class="dropdown-content">
                {% for ingredient in ingredients[:7] %}
                    <a href="{{ url_for('user_end_controller.recipe_display', ingredient_id=ingredient.ingredient_id) }}">{{ ingredient.name }}</a>
                {% endfor %}
                    <a href="/ingredient_display">View All</a>
            </div>
        </div>
        <li><a href="about_us" id="about-us-link" title="about us">About Us</a></li>
        <li>|</li>
        {% if not user %}
            <li><a href="/login" id="login-link" title="Login">Login</a></li>
            <li><a href="/register" id="registration-link" title="Register">Registration</a></li>
        {% else %}
        <div class="dropdown">
            
            <li><i class='bx bx-user-circle'></i> Hi {{ user.username }}</li>
            <div class="dropdown-content">
                <a href="{{ url_for('authentication_controller.logout') }}" onclick="return confirm('Are you sure you want to log out?')"><i class='bx bx-log-out' ></i> Logout</a>
                <hr>
                <a><i class='bx bxs-heart' ></i> Favorites</a>
                <a onclick="addRecipe()"><i class='bx bx-add-to-queue' ></i> Add Recipe</a>
                {% endif %}
                {% if user and user.type == 'admin' %}
                    <li><a href="{{ url_for('dashboard_controller.dashboard') }}" id="admin-dashboard-link">Go Back to Admin Dashboard</a></li>
                {% endif %}
            </div>
        </div>
    </ul>
</nav>
<div class="addRecipeOverlay" id="addRecipeOverlay" onclick="closeAddRecipe()"></div>
<div class="addRecipePopup" id="addRecipePopup">
    <h1 class="add-recipe">Add Recipe</h1>
    <form method="POST" action="/add_recipe" enctype="multipart/form-data" class="form-recipe" id="recipeForm">
        <!-- Form for adding a new recipe -->
        <label for="recipe_name">Name:</label>
        <input type="text" id="recipe_name" name="recipe_name" class="name-form" required>

        <label for="instructions">Instructions:</label>
        <textarea id="instructions" name="instructions" rows="4" class="text-area-form" required></textarea>

        <label for="image_file">Image File:</label>
        <input type="file" id="image_file" name="image_file" accept="image/*" required>

        <button type="submit" onclick="return confirm('Are you sure you want to add this recipe?')">Add Recipe</button>
    </form>
    <div onclick="closeAddRecipe()" class="close-btn" title="exit">
        <i class='bx bx-exit'></i>
    </div>
</div>

{% block content %}
{% endblock %}
</body>
</html>


